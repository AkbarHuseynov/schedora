<nav class="navbar navbar-expand-lg navbar-dark bg-dark-custom sticky-top">
    <div class="container">
        <!-- Logo -->
        <a class="navbar-brand d-flex align-items-center gap-2" href="/">
            <svg width="34" height="34" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" fill="#C9A96E"/>
                <path d="M12 28 C12 20 20 14 20 14 C20 14 28 20 28 28" stroke="white" stroke-width="2.2" stroke-linecap="round" fill="none"/>
                <circle cx="20" cy="13" r="3" fill="white"/>
                <line x1="14" y1="28" x2="26" y2="28" stroke="white" stroke-width="2.2" stroke-linecap="round"/>
            </svg>
            <span class="brand-name">Schedora</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNav">
            <ul class="navbar-nav ms-auto align-items-lg-center gap-1">
                <% if (!user) { %>
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/auth/login">Login</a></li>
                    <li class="nav-item">
                        <a class="btn btn-gold ms-2" href="/auth/register">Get Started</a>
                    </li>
                <% } else if (user.role === 'client') { %>
                    <li class="nav-item"><a class="nav-link" href="/client/dashboard">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="/client/shops">Browse</a></li>
                    <li class="nav-item"><a class="nav-link" href="/client/bookings">My Bookings</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle me-1"></i><%= user.name %>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/auth/logout"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                <% } else if (user.role === 'owner') { %>
                    <li class="nav-item"><a class="nav-link" href="/owner/dashboard">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="/owner/services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="/owner/bookings">Bookings</a></li>
                    <li class="nav-item"><a class="nav-link" href="/owner/wallet">Wallet</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                            <i class="bi bi-shop me-1"></i><%= user.name %>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/owner/shop/setup"><i class="bi bi-gear me-2"></i>Shop Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/auth/logout"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                <% } else if (user.role === 'admin') { %>
                    <li class="nav-item"><a class="nav-link" href="/admin/dashboard">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="/admin/users">Users</a></li>
                    <li class="nav-item"><a class="nav-link" href="/admin/shops">Shops</a></li>
                    <li class="nav-item"><a class="nav-link" href="/admin/bookings">Bookings</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                            <i class="bi bi-shield-check me-1"></i><%= user.name %>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/auth/logout"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                <% } %>
            </ul>
        </div>
    </div>
</nav>
